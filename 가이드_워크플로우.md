# 테스트케이스 작성 워크플로우

컨텍스트 윈도우 최적화를 위한 단계별 테스트케이스 작성 방법론

## 개요

대규모 명세(Confluence, Jira, Figma, Code 등)를 기반으로 테스트케이스를 작성할 때, 모든 소스를 한 번에 분석하면 컨텍스트 제한에 걸릴 수 있습니다. 이를 해결하기 위해 **분석 단계를 분리**하고 **소스별 요약을 생성**하는 방식을 사용합니다.

## 워크플로우

### Phase 1: 소스별 분석 및 요약 생성

각 소스를 분석하여 `_summaries/` 폴더에 요약을 생성합니다.
슬래시 커맨드 `/소스분석`으로 실행할 수 있습니다.

#### 1-1. Confluence 분석 (기획 문서)
```
/소스분석 confluence
→ MCP로 위키 페이지 분석 → _summaries/confluence_summary.md 생성
```

#### 1-2. Jira 분석 (개발 이슈)
```
/소스분석 jira
→ MCP로 에픽/태스크 분석 → _summaries/jira_summary.md 생성
```

#### 1-3. Figma 분석 (UI/UX 명세)
```
/소스분석 figma
→ MCP로 디자인 분석 → _summaries/figma_summary.md 생성
```

#### 1-4. 코드 분석
```
/소스분석 code
→ MCP + 로컬 코드 분석 → _summaries/code_summary.md 생성
```

#### 1-5. 전체 병렬 분석
```
/소스분석 all
→ 서브에이전트 4개가 동시에 분석 (가장 빠름)
```

#### 1-6. PDF 분석 (기존 TC 아카이브가 있는 경우)
```
/소스분석 pdf
→ TChive 폴더의 PDF 분석 → _summaries/pdf_summary.md 생성
```

### Phase 2: 테스트케이스 작성

요약 파일들을 기반으로 테스트케이스를 작성합니다.
슬래시 커맨드 `/TC생성`으로 실행할 수 있습니다.

```
/TC생성 v1
→ _summaries/ 요약 + 규칙_TC포맷과소스.md 포맷 → xlsx 생성
```

## 요약 파일 템플릿

### confluence_summary.md
```markdown
# Confluence 분석 요약

## 문서 정보
- URL: [링크]
- 최종 수정일: [날짜]

## 기능 요구사항
1. [요구사항]

## 비즈니스 로직
- [로직 설명]

## 예외 케이스
- [예외]
```

### jira_summary.md
```markdown
# Jira 분석 요약

## 분석 이슈
| 이슈 키 | 제목 | 유형 | 상태 |
|---------|------|------|------|

## 구현 범위
- [범위]

## 주요 변경 사항
1. [변경]

## 영향 범위
- [영향 받는 모듈/기능]
```

### figma_summary.md
```markdown
# Figma 분석 요약

## UI 컴포넌트
| 컴포넌트 | 상태 | 설명 |
|----------|------|------|

## 사용자 인터랙션
1. [인터랙션]

## 입력 필드 및 검증
| 필드명 | 타입 | 필수여부 | 검증규칙 |
|--------|------|----------|----------|

## 플로우 분기
- [분기 조건]
```

### code_summary.md
```markdown
# 코드 분석 요약

## 분석 대상
- [PR/브랜치]

## 주요 변경 파일
| 파일 | 설명 |
|------|------|

## 테스트 영향도
| 테스트 항목 | 검증 포인트 |
|-------------|-------------|
```

## 장점

1. **컨텍스트 효율화**: 각 대화에서 필요한 소스만 로드
2. **재사용성**: 요약 파일을 다른 대화에서 재활용 가능
3. **추적성**: 어떤 소스에서 어떤 TC가 도출되었는지 추적 가능
4. **점진적 작업**: 일부 소스만 변경 시 해당 요약만 업데이트

## 주의사항

- 요약 생성 시 **테스트 관점**에서 중요한 정보 위주로 추출
- 요약이 너무 길어지면 Phase 2에서도 컨텍스트 문제 발생 가능
- 각 요약은 **A4 1-2페이지 분량**을 목표로 간결하게 작성
