# 클로드 코드 활용 가이드 (초보자용)

이 프로젝트에서 테스트케이스를 만들 때, 클로드 코드의 기능들을 활용하면 더 빠르고 커버리지 높은 TC를 생성할 수 있습니다. 이 문서는 처음 사용하는 분도 따라할 수 있도록 작성되었습니다.

---

## 1. 프로젝트 시작하기

### 터미널에서 클로드 코드 실행
```bash
cd /Users/Claude/ProjectQA/{{프로젝트폴더}}
claude
```
> 이 폴더에서 실행하면 `CLAUDE.md`를 자동으로 읽어서 프로젝트 맥락(QA 역할, TC 포맷 규칙, 소스 URL 등)을 이미 알고 있는 상태로 시작합니다.

---

## 2. 핵심 기능 5가지

### 2-1. CLAUDE.md (자동 컨텍스트)

**무엇인가요?**
프로젝트 폴더에 `CLAUDE.md` 파일을 두면, 클로드 코드가 대화 시작 시 이 파일을 **자동으로 읽습니다**. 매번 "너는 QA 전문가야, TC 포맷은 이렇고..."라고 설명할 필요가 없습니다.

**이 프로젝트에서의 역할:**
- QA 역할 정의 (시니어 QA엔지니어)
- TC 포맷 규칙 (8개 컬럼, 6개 시트)
- 소스 URL 목록 (Confluence, Jira, Figma, GitHub)
- MCP 서버 목록
- 디렉토리 구조

**활용 팁:**
> 새 프로젝트를 시작할 때 이 `CLAUDE.md`를 복사한 뒤, 소스 URL과 프로젝트명만 바꾸면 바로 사용할 수 있습니다.

---

### 2-2. 슬래시 커맨드 (커스텀 스킬)

**무엇인가요?**
`.claude/commands/` 폴더에 `.md` 파일을 넣으면, 파일명이 슬래시 커맨드가 됩니다. 복잡한 작업을 한 줄로 실행할 수 있는 **팀 공유 매크로**입니다.

**사용 가능한 커맨드 3종:**

| 커맨드 | 용도 | 사용 예시 |
|--------|------|-----------|
| `/소스분석` | 소스를 MCP로 분석하여 요약 생성 | `/소스분석 confluence` |
| `/TC생성` | 요약 기반으로 TC xlsx 생성 | `/TC생성 v3` |
| `/TC리뷰` | 기존 TC의 커버리지 갭 점검 | `/TC리뷰 latest` |

**사용 방법:**
```
[클로드 코드 대화창에서]
> /소스분석 all          ← 4개 소스를 병렬로 한번에 분석
> /소스분석 confluence   ← Confluence만 분석
> /TC생성 v3             ← 요약 기반으로 TC v3 생성
> /TC리뷰 latest         ← 최신 TC의 커버리지 리뷰
```

**새 커맨드 만들기:**
`.claude/commands/` 폴더에 새 `.md` 파일을 추가하면 됩니다. 파일 안에 `$ARGUMENTS`를 넣으면 커맨드 뒤에 붙이는 인자를 받을 수 있습니다.

---

### 2-3. 플랜모드 (설계 먼저, 실행 나중에)

**무엇인가요?**
복잡한 작업을 시작하기 전에 "어떤 순서로, 무엇을 할지" 계획을 세우는 모드입니다. 계획을 확인한 후 승인하면 그때 실행합니다.

**언제 쓰나요?**
- 처음부터 TC를 새로 설계할 때
- 대규모 TC 구조를 변경할 때
- 여러 소스를 분석 후 TC 전략을 결정할 때

**사용 방법:**
```
[방법 1] 직접 요청
> "서포터 WAi의 문의 등록 기능 TC를 설계해줘. 플랜모드로 시작해."

[방법 2] 클로드가 알아서 진입
> 복잡한 작업을 요청하면 클로드가 자동으로 플랜모드 진입을 제안합니다.
```

**플랜모드 흐름:**
```
1. 클로드가 파일을 탐색하고 분석 (읽기만 함, 수정 안 함)
2. 실행 계획을 작성하여 보여줌
3. 사용자가 계획을 확인 → 승인 or 수정 요청
4. 승인 후 실행 시작
```

**실전 예시:**
```
[사용자]
> 결제 실패 시나리오에 대해 TC를 추가하고 싶어. 플랜모드로.

[클로드 - 플랜 출력]
## 실행 계획
1. confluence_summary.md에서 결제 실패 관련 요구사항 파악
2. figma_summary.md에서 에러 화면 UI 플로우 확인
3. 기존 TC에서 결제 실패 관련 TC 현황 파악
4. 갭 분석 후 추가 TC 목록 제시
5. 승인 시 xlsx에 TC 추가

승인하시겠습니까?
```

---

### 2-4. 서브에이전트 (병렬 작업)

**무엇인가요?**
하나의 작업을 여러 개의 "하위 작업자"에게 나눠서 **동시에** 처리하는 기능입니다. 4개 소스를 분석할 때, 하나씩 순서대로 하면 느리지만, 4개를 동시에 돌리면 빠릅니다.

**이 프로젝트에서의 활용:**

```
[/소스분석 all 실행 시 내부 동작]

       ┌─ 서브에이전트 1: Confluence 분석 → confluence_summary.md
       │
메인 ──┼─ 서브에이전트 2: Jira 분석       → jira_summary.md
       │
       ├─ 서브에이전트 3: Figma 분석      → figma_summary.md
       │
       └─ 서브에이전트 4: Code 분석       → code_summary.md

       (4개가 동시에 실행됨!)
```

**직접 사용할 수도 있습니다:**
```
> "Confluence 요약과 Jira 요약을 동시에 분석해서 커버리지 갭을 찾아줘"
→ 클로드가 자동으로 서브에이전트를 활용합니다.
```

---

### 2-5. MCP 서버 (외부 도구 연결)

**무엇인가요?**
MCP(Model Context Protocol)는 클로드 코드가 외부 서비스에 직접 접근할 수 있게 해주는 플러그인입니다. 별도의 브라우저나 API 호출 없이, 대화 중에 Figma 디자인을 읽거나 Jira 이슈를 조회할 수 있습니다.

**설치된 MCP 5종:**

| MCP | 하는 일 | 실전 예시 |
|-----|---------|-----------|
| **figma** | Figma 디자인 파일 분석 | "Figma에서 로그인 화면의 입력 필드를 추출해줘" |
| **atlassian** | Confluence 위키 + Jira 이슈 조회 | "에픽의 하위 태스크를 분석해줘" |
| **github** | GitHub PR/코드 분석 | "PR의 변경 파일 목록을 보여줘" |
| **excel** | xlsx 파일 직접 생성/편집 | "TC를 바로 xlsx로 만들어줘" (Python 스크립트 불필요!) |
| **playwright** | 브라우저 열어서 UI 확인 | "실제 웹페이지에서 버튼 위치를 확인해줘" |

**MCP 활용 전후 비교:**
```
[이전 - MCP 없이]
1. 브라우저에서 Confluence 페이지 열기
2. 내용 복사
3. 클로드에게 붙여넣기
4. 분석 요청

[이후 - MCP 활용]
1. "Confluence 페이지 분석해줘"
→ 클로드가 MCP로 직접 접속하여 분석 (끝!)
```

---

## 3. 실전 워크플로우: 처음부터 끝까지

### 시나리오: 새 프로젝트의 TC를 만들기

```
┌──────────────────────────────────────────────────────────┐
│ Step 1. 클로드 코드 실행                                  │
│   $ cd /Users/Claude/ProjectQA/{{프로젝트폴더}} && claude │
│   → CLAUDE.md 자동 로드됨                                 │
├──────────────────────────────────────────────────────────┤
│ Step 2. 소스 분석 (Phase 1)                               │
│   > /소스분석 all                                         │
│   → 4개 서브에이전트가 병렬로 소스 분석                    │
│   → _summaries/ 폴더에 4개 요약 파일 생성                  │
├──────────────────────────────────────────────────────────┤
│ Step 3. TC 설계 (플랜모드 권장)                           │
│   > /TC생성 v3                                            │
│   → 플랜모드로 TC 구조를 먼저 설계                        │
│   → 사용자 승인 후 xlsx 생성                              │
├──────────────────────────────────────────────────────────┤
│ Step 4. 커버리지 리뷰                                     │
│   > /TC리뷰 latest                                        │
│   → 누락된 시나리오, 경계값, 예외케이스 점검               │
│   → 추가 권장 TC 목록 제시                                │
├──────────────────────────────────────────────────────────┤
│ Step 5. (선택) 브라우저 검증                              │
│   > "playwright로 대상 페이지의 UI를 확인해줘"             │
│   → 실제 페이지를 열어 Figma 명세와 대조                   │
└──────────────────────────────────────────────────────────┘
```

---

## 4. 자주 쓰는 대화 패턴

### TC 추가
```
> "결제 화면에서 카드번호 미입력 시 에러 처리 TC를 추가해줘"
```

### 특정 시트만 보완
```
> "/TC생성 시트지정:예외사항"
```

### 이전 분석 업데이트
```
> "/소스분석 jira"
→ Jira만 재분석하여 jira_summary.md 업데이트
```

### TC 통계 확인
```
> "현재 TC의 시트별 케이스 수와 총 예상시간을 알려줘"
```

### 커버리지 질문
```
> "다국어(영어/일본어/중국어) 관련 TC가 충분한지 확인해줘"
```

---

## 5. 새 프로젝트에 이 구조 적용하기

### 방법: GitHub에서 템플릿 clone

```bash
# 1. 템플릿을 새 프로젝트 폴더로 clone
git clone https://github.com/sungkyu-QA/qa-tc-template.git 새프로젝트명
cd 새프로젝트명

# 2. 기존 git 이력 제거 (깨끗한 시작)
rm -rf .git

# 3. 두 파일만 수정하면 끝!
#    - CLAUDE.md         → {{프로젝트명}}, {{소스 URL}} 변경
#    - 규칙_TC포맷과소스.md → 소스 URL 붙여넣기

# 4. 클로드 코드 실행
claude
```

### 수정이 필요한 부분 (2개 파일만)

**CLAUDE.md** 에서 `{{` `}}` 로 감싸진 부분만 교체:
- `{{프로젝트명}}` → 실제 프로젝트명
- `{{JIRA-KEY}}` → 에픽 키
- 소스 URL 테이블의 URL들

**규칙_TC포맷과소스.md** 에서 소스 URL 붙여넣기:
- Figma, Confluence, Jira, GitHub URL
- 로컬 코드 경로

---

## 6. 문제 해결

| 증상 | 해결 |
|------|------|
| 슬래시 커맨드가 안 보임 | `.claude/commands/` 폴더가 있는 디렉토리에서 `claude` 실행했는지 확인 |
| MCP 연결 오류 | `/mcp` 입력하여 MCP 서버 상태 확인. 재시작 필요 시 클로드 코드 종료 후 재실행 |
| 컨텍스트가 너무 길다는 경고 | 소스 분석(Phase 1)을 별도 대화에서 실행. 요약 파일만으로 TC 생성 |
| xlsx 생성 실패 | Excel MCP 연결 확인. 안 되면 "Python으로 생성해줘"라고 요청 |
| CLAUDE.md를 안 읽는 것 같음 | 프로젝트 폴더 **루트**에 CLAUDE.md가 있는지 확인 |

---

## 7. 용어 정리

| 용어 | 설명 |
|------|------|
| **CLAUDE.md** | 프로젝트 설정 파일. 클로드 코드가 자동으로 읽음 |
| **슬래시 커맨드** | `/이름`으로 실행하는 커스텀 명령. `.claude/commands/`에 정의 |
| **플랜모드** | 실행 전 계획을 세우고 승인받는 모드 |
| **서브에이전트** | 병렬로 작업을 처리하는 하위 작업자 |
| **MCP** | 외부 서비스(Figma, Jira 등)에 직접 접근하는 플러그인 |
| **Phase 1** | 소스 분석 → 요약 생성 단계 |
| **Phase 2** | 요약 기반 → TC xlsx 생성 단계 |
| **컨텍스트 윈도우** | 클로드가 한 번에 기억할 수 있는 정보량. 너무 많으면 단계를 분리 |
